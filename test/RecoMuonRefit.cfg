process MuonRefit = {
    
    # Event source
    source = PoolSource {
	untracked vstring fileNames = {
	    '/store/relval/2008/6/22/RelVal-RelValSingleMuPt10-1213987236-IDEAL_V2-2nd/0004/7E4A1576-F540-DD11-92DC-000423D6CA72.root'
#	    'file:/tmp/trocino/7E4A1576-F540-DD11-92DC-000423D6CA72.root'
	}
    }

    untracked PSet maxEvents = {untracked int32 input = -1}
    
    # Messages
    service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked vstring debugModules = { "*" }
        untracked vstring categories = {"StandAloneMuonRefitter","TrackFitters"}
        untracked PSet cout = {
            untracked string threshold = "DEBUG"
            untracked PSet default = { untracked int32 limit = 0 }
            untracked PSet FwkJob  = { untracked int32 limit = 0 }
            untracked bool noLineBreaks = true
            untracked PSet DEBUG = {untracked int32 limit = 0 }
            untracked PSet StandAloneMuonRefitter = {untracked int32 limit = -1}
            untracked PSet TrackFitters = {untracked int32 limit = 0}
        }
    }
    
    # Fake Conditions
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "Configuration/StandardSequences/data/MagneticField_38T.cff" 

    include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
    replace GlobalTag.globaltag = "IDEAL_V2::All"

    # Output
    
    module out = PoolOutputModule {
	untracked string fileName ="/tmp/trocino/RecoMuonsRefit.root"
    }

    path p = {muontracking}

    endpath this_is_the_end = {out}
}
