process StandAloneMuonProduction = {
    
# Event source
    source = PoolSource{
	# untracked vstring fileNames ={'file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-08-21/MuonRecHit.root'}
	untracked vstring fileNames ={'file:/tmp/MuonRecHit.root'}
	# untracked uint32 firstEvent = 5506
	untracked int32 maxEvents = 10
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
    }


# Messages

#include "RecoMuon/StandAloneMuonProducer/test/normal.cfi"
    include "RecoMuon/StandAloneMuonProducer/test/debug.cfi"

# Magnetic Field
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"


# Geometries
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi" 
    include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/CSCGeometry/data/cscGeometry.cfi"
    include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"
    
# Seed generator
    include "RecoMuon/MuonSeedGenerator/data/MuonSeedProducer.cfi"
    # replace MuonSeed.EnableDTMeasurement = false

# Standalone muon producer
    include "RecoMuon/StandAloneMuonProducer/data/StandAloneMuonProducer.cfi"
    replace StandAloneMuon.STATrajBuilderParameters.RefitterParameters.EnableRPCMeasurement = false
    replace StandAloneMuon.STATrajBuilderParameters.BWFilterParameters.EnableRPCMeasurement = false
    # replace StandAloneMuon.STATrajBuilderParameters.RefitterParameters.EnableDTMeasurement = false
    # replace StandAloneMuon.STATrajBuilderParameters.BWFilterParameters.EnableDTMeasurement = false

    # replace StandAloneMuon.STATrajBuilderParameters.BWFilterParameters.BWSeedType = noSeed


# Output
    module out = PoolOutputModule {
	untracked string fileName ="STAMuonsProxy.root"
    }


# Analyzer
    module STAMuonAnalyzer = STAMuonAnalyzer {
	untracked string DataType = "SimData"
	untracked string StandAloneTrackCollectionLabel = "StandAloneMuon"
	untracked string MuonSeedCollectionLabel = "MuonSeed"
	untracked string rootFileName = "STAMuonAnalyzerProxy.root"
    }


# Path
    path p = {MuonSeed,StandAloneMuon,STAMuonAnalyzer}
    # path p = {MuonSeed,StandAloneMuon}
    endpath this_is_the_end = {out}
}
