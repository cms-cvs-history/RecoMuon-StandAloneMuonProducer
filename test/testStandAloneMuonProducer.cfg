process StandAloneMuonProduction = {
    
# Event source
    source = PoolSource{
	untracked vstring fileNames ={'file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-08-21/MuonRecHit.root'}
	untracked int32 maxEvents = 100
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
    }


# Messages
    service = MessageLogger {
	untracked vstring destinations = { "cout" }
	untracked PSet cout = {
	    untracked bool noLineBreaks = true
	    untracked string threshold = "INFO"
	}
    }

# Magnetic Field
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    
# Geometries
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi" 
    include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/CSCGeometry/data/cscGeometry.cfi"
    include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"
    
# Seed generator
    include "RecoMuon/MuonSeedGenerator/data/standAloneMuonSeeds.cff"

# Standalone muon producer
    include "RecoMuon/StandAloneMuonProducer/data/standAloneMuons.cff"
    replace standAloneMuons.STATrajBuilderParameters.RefitterParameters.EnableRPCMeasurement = false
    replace standAloneMuons.STATrajBuilderParameters.BWFilterParameters.EnableRPCMeasurement = false

# Output
    module out = PoolOutputModule {
	untracked string fileName ="STAMuons.root"
    }
    
    
# Analyzer
    module STAMuonAnalyzer = STAMuonAnalyzer {
	untracked string DataType = "SimData"
	untracked string StandAloneTrackCollectionLabel = "standAloneMuons"
	untracked string MuonSeedCollectionLabel = "standAloneMuonSeeds"
	untracked string rootFileName = "STAMuonAnalyzer.root"
    }


# Path
    path p = {standAloneMuonSeeds,standAloneMuons,STAMuonAnalyzer}
    endpath this_is_the_end = {out}
}
